<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/escaperoom.css" rel="stylesheet">
	
	<style>
	</style>
  </head>

  <body>
	<header>
		<img src='images/logo.PNG' class='center' style="height:100%;"/>
	</header>

    <main class="px-3">

		<div class="row">
		<div id="pix" class="col-12 col-md-8">
			 <!-- Slideshow container -->
            <div class="slideshow-container">

                <!-- Full-width images with number and caption text -->
                <div class="mySlides fade">
                <div class="numbertext">1 / 2</div>
                <img id='trapdoor' src="images/q4pic1.PNG" style="width:100%">
                <div class="carouselText">The Trap Door.</div>
                </div>
            
                <div class="mySlides fade">
                <div class="numbertext">2 / 2</div>
                <img src="images/q4puz.PNG" style="width:100%">
                <div class="carouselText">The Pigpen Code</div>
                </div>
            
                <!-- Next and previous buttons -->
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
            <br>
            
            <!-- The dots/circles -->
            <div style="text-align:center">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
            </div> 

		</div>
        	<div id='text' class="col-6 col-md-4">
                <p>As you make your way towards the staircase, a busy PhD student pushes past you with mumbled apologies. Before you can stop them to ask for help, they turn a corner and you hear a scream.</p>
                <p>You rush around the corner and find yourself face to face with an open trap door. How on earth did they get planning permission for this?</p>
                <p>As you contemplate your way forward, the PhD student yells from the bottom of the pit:</p> 
                <p>"You up there! I would really appreciate if you could let me out of here, check the note on the right!"</p>
                <p>Crack the code to close the trapdoor and safely pass.</p>
            </div>
		</div>
	
		<div id='QandA' class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
		
			<p id="question" class="lead">What is the answer to the code puzzle? (Use all capital letters and give the complete code).</p>
			  <form id="form" class="d-flex" name="answer-box" onsubmit="return checkAnswers()">
				<input id="answer-box" class="form-control me-2" type="text" name="answer" placeholder="The answer is..." aria-label="Answer">
				<button id="button" class="btn btn-outline-success" type="submit">Answer</button>
			  </form>
		</div>
	</main>

	  <footer class="mt-auto text-white-50">
	  </footer>
	
	<script>
	let a = "LECITHIN";
	let n = 0

  var audio = new Audio('images/cartoon-fall.flac');
  var delay = 2000;

  setTimeout(function(){
    audio.play();
  }, delay);
  
	function checkAnswers() {
	  let x = document.forms["answer-box"]["answer"].value;
			
	  if (x == a) {
          askQuestion("<p>The trapdoor swings closed with a creak. There's a mumbled 'thank you' from the bottom, as the previously trapped PhD student scurries away.</p><a href='escape_room5.html' class='btn btn-outline-success'> Continue Down the Stairs</a>");
          document.getElementById("answer-box").style = "visibility:hidden";
          document.getElementById("button").style = "visibility:hidden";
          document.getElementById("trapdoor").src="images/q4pic2.PNG";
          showSlides(1);
		  return false;
	    }
	    else {
          alert("The trapdoor does not budge. It seems that's the wrong answer.");
		  return false;
	    }
	}
	
	
	function askQuestion(newQ) {
		document.getElementById("question").innerHTML = newQ;
	}

    var slideIndex = 1;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
    showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
    showSlides(slideIndex = n);
    }

    function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("dot");
    if (n > slides.length) {slideIndex = 1}
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex-1].style.display = "block";
    dots[slideIndex-1].className += " active";
    }

	</script>

  </body>
</html>